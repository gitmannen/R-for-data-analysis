library(FSA)
Summarize(ROX~Operator + Sample,
data=a,
digits = 3)
newfunction("Operator","ROX","Day") #arguments are as follows (xval, channel, grouper)
library(ggplot2)
newfunction <- function(xval,channel,grouper){
v1<-ggplot(data=a, aes(x=.data[[xval]], y=.data[[channel]], label = .data[[channel]])) #here you can see how the aes() arguments refer to the arguments in the function
#when the channel is ROX, we need to show all three samples, so you need the facet_wrap because there are 3 samples: PC, NTC and Sample
if (channel == "ROX") {
v1+
facet_wrap(.~Sample,nrow = 1, scales = "free_y", labeller = label_both)+
scale_y_continuous(n.breaks = 10)+
geom_boxplot(outlier.alpha = 0)+
geom_jitter(size = 5,
aes(colour = .data[[grouper]]),
alpha = 0.5
)+
ggtitle(paste("Box Plot of Intermediate Precision (", grouper, " to ", grouper, ") in the ", channel, " channel", sep =""))+
ylab(paste("Ct value in the", channel, "channel"))+
theme(axis.title =
element_text(size = 18),
legend.title =
element_text(size = 18),
legend.text =
element_text(size = 16),
strip.text =
element_text(size = 16),
axis.text =
element_text(size = 16),
axis.ticks.x.bottom =
element_blank(),
axis.title.x =
element_blank(),
plot.title =
element_text(size = 20,
hjust = 0.5)
)+
#add in labels to the plot
geom_text(check_overlap = T, #avoid overlapping the labels
size = 3,
show.legend = F, #remove the 'a' in the legend
# hjust = 0,
# nudge_x = -0.1,
#vjust = 0,
#nudge_y = -0.01,
aes(colour = .data[[grouper]]) #changes the colour to match the Operator colour
)
}
#if channel is not ROX (i.e. ROX), then you don't need the face_wrap because there is only 1 sample
else{
v1+
#facet_wrap(.~Sample,nrow = 1, scales = "free_y", labeller = label_both)+
scale_y_continuous(n.breaks = 10)+
geom_boxplot(outlier.alpha = 0)+
geom_jitter(size = 5,
aes(colour = .data[[grouper]]),
alpha = 0.5
)+
ggtitle(paste("Box Plot of Intermediate Precision (", grouper, " to ", grouper, ") in the ", channel, " channel", sep =""))+
ylab(paste("Ct value in the", channel, "channel"))+
theme(axis.title =
element_text(size = 18),
legend.title =
element_text(size = 18),
legend.text =
element_text(size = 16),
strip.text =
element_text(size = 16),
axis.text =
element_text(size = 16),
axis.ticks.x.bottom =
element_blank(),
axis.title.x =
element_blank(),
plot.title =
element_text(size = 20,
hjust = 0.5)
)+
#add in labels to the plot
geom_text(check_overlap = T, #avoid overlapping the labels
size = 3,
show.legend = F, #remove the 'a' in the legend
# hjust = 0,
# nudge_x = -0.1,
#vjust = 0,
#nudge_y = -0.01,
aes(colour = .data[[grouper]]) #changes the colour to match the Operator colour
)
}
}
library(FSA)
Summarize(ROX~Operator + Sample,
data=a,
digits = 3)
newfunction("Operator","ROX","Day") #arguments are as follows (xval, channel, grouper)
newfunction <- function(xval,channel,grouper){
v1<-ggplot(data=a, aes(x=.data[[xval]], y=.data[[channel]], label = .data[[channel]])) #here you can see how the aes() arguments refer to the arguments in the function
#when the channel is ROX, we need to show all three samples, so you need the facet_wrap because there are 3 samples: PC, NTC and Sample
if (channel == "ROX") {
v1+
facet_wrap(.~Sample,nrow = 1, scales = "free_y", labeller = label_both)+
scale_y_continuous(n.breaks = 10)+
geom_boxplot(outlier.alpha = 0)+
geom_jitter(size = 5,
aes(colour = .data[[grouper]]),
alpha = 0.5
)+
ggtitle(paste("Box Plot of Intermediate Precision (", grouper, " to ", grouper, ") in the ", channel, " channel", sep =""))+
ylab(paste("Ct value in the", channel, "channel"))+
theme(axis.title =
element_text(size = 18),
legend.title =
element_text(size = 18),
legend.text =
element_text(size = 16),
strip.text =
element_text(size = 16),
axis.text =
element_text(size = 16),
axis.ticks.x.bottom =
element_blank(),
axis.title.x =
element_blank(),
plot.title =
element_text(size = 20,
hjust = 0.5)
)+
#add in labels to the plot
geom_text(check_overlap = T, #avoid overlapping the labels
size = 3,
show.legend = F, #remove the 'a' in the legend
# hjust = 0,
# nudge_x = -0.1,
#vjust = 0,
#nudge_y = -0.01,
aes(colour = .data[[grouper]]) #changes the colour to match the Operator colour
)
}
#if channel is not ROX (i.e. ROX), then you don't need the face_wrap because there is only 1 sample
else{
v1+
#facet_wrap(.~Sample,nrow = 1, scales = "free_y", labeller = label_both)+
scale_y_continuous(n.breaks = 10)+
geom_boxplot(outlier.alpha = 0)+
geom_jitter(size = 5,
aes(colour = .data[[grouper]]),
alpha = 0.5
)+
ggtitle(paste("Box Plot of Intermediate Precision (", grouper, " to ", grouper, ") in the ", channel, " channel", sep =""))+
ylab(paste("Ct value in the", channel, "channel"))+
theme(axis.title =
element_text(size = 18),
legend.title =
element_text(size = 18),
legend.text =
element_text(size = 16),
strip.text =
element_text(size = 16),
axis.text =
element_text(size = 16),
axis.ticks.x.bottom =
element_blank(),
axis.title.x =
element_blank(),
plot.title =
element_text(size = 20,
hjust = 0.5)
)+
#add in labels to the plot
geom_text(check_overlap = T, #avoid overlapping the labels
size = 3,
show.legend = F, #remove the 'a' in the legend
# hjust = 0,
# nudge_x = -0.1,
#vjust = 0,
#nudge_y = -0.01,
aes(colour = .data[[grouper]]) #changes the colour to match the Operator colour
)
}
}
newfunction("Operator","ROX","Day") #arguments are as follows (xval, channel, grouper)
View(a)
# setwd("..\\Users\\Lion\\Documents\\Lion Local\\RST and RMT qualification\\rst")
a<-read.csv("2021-06-24_140353 RMT operator to operator var day1and2.csv")
a
# setwd("..\\Users\\Lion\\Documents\\Lion Local\\RST and RMT qualification\\rst")
a<-read.csv("2021-06-24_140353 RMT operator to operator var day1and2.csv")
a
View(a)
str(a)
getwd()
library(ggplot2)
getwd()
# setwd("..\\Users\\Lion\\Documents\\Lion Local\\RST and RMT qualification\\rst")
a<-read.csv("2021-06-24_140353 RMT operator to operator var day1and2.csv")
a
#a$Operator == 'O1'
# a[a$Operator == 'O1',2] <- "Operator 1"
# a[a$Operator == 'O2',2] <- "Operator 2"
#
# summary(a[a$Operator == "Operator 1",][a$Sample == "PC",])
# OperatorPC <- a[a$Operator == "Operator 1",][a$Sample == "PC",]
# mean(OperatorPC)
# OperatorPC[,4]
# apply(OperatorPC,2,mean)
#Box Plot of Intermediate Precision (Operator to Operator) in the ROX channel
summary(a)
# setwd("..\\Users\\Lion\\Documents\\Lion Local\\RST and RMT qualification\\rst")
a<-read.csv("2021-06-23_092531 RMT operator to operator var day1.csv")
a
# setwd("..\\Users\\Lion\\Documents\\Lion Local\\RST and RMT qualification\\rst")
a<-read.csv("2021-06-24_140353 RMT operator to operator var day1and2.csv")
a
str(a)
# setwd("..\\Users\\Lion\\Documents\\Lion Local\\RST and RMT qualification\\rst")
a<-read.csv("2021-06-24_140353 RMT operator to operator var day1and2.csv")
a
str(a)
library(gapminder)
library(rlang)
newfunction <- function(xval,channel,grouper){
v1<-ggplot(data=a, aes(x=.data[[xval]], y=.data[[channel]], label = .data[[channel]])) #here you can see how the aes() arguments refer to the arguments in the function
#when the channel is ROX, we need to show all three samples, so you need the facet_wrap because there are 3 samples: PC, NTC and Sample
if (channel == "ROX") {
v1+
facet_wrap(.~Sample,nrow = 1, scales = "free_y", labeller = label_both)+
scale_y_continuous(n.breaks = 10)+
geom_boxplot(outlier.alpha = 0)+
geom_jitter(size = 5,
aes(colour = .data[[grouper]]),
alpha = 0.5
)+
ggtitle(paste("Box Plot of Intermediate Precision (", grouper, " to ", grouper, ") in the ", channel, " channel", sep =""))+
ylab(paste("Ct value in the", channel, "channel"))+
theme(axis.title =
element_text(size = 18),
legend.title =
element_text(size = 18),
legend.text =
element_text(size = 16),
strip.text =
element_text(size = 16),
axis.text =
element_text(size = 16),
axis.ticks.x.bottom =
element_blank(),
axis.title.x =
element_blank(),
plot.title =
element_text(size = 20,
hjust = 0.5)
)+
#add in labels to the plot
geom_text(check_overlap = T, #avoid overlapping the labels
size = 3,
show.legend = F, #remove the 'a' in the legend
# hjust = 0,
# nudge_x = -0.1,
#vjust = 0,
#nudge_y = -0.01,
aes(colour = .data[[grouper]]) #changes the colour to match the Operator colour
)
}
#if channel is not ROX (i.e. ROX), then you don't need the face_wrap because there is only 1 sample
else{
v1+
#facet_wrap(.~Sample,nrow = 1, scales = "free_y", labeller = label_both)+
scale_y_continuous(n.breaks = 10)+
geom_boxplot(outlier.alpha = 0)+
geom_jitter(size = 5,
aes(colour = .data[[grouper]]),
alpha = 0.5
)+
ggtitle(paste("Box Plot of Intermediate Precision (", grouper, " to ", grouper, ") in the ", channel, " channel", sep =""))+
ylab(paste("Ct value in the", channel, "channel"))+
theme(axis.title =
element_text(size = 18),
legend.title =
element_text(size = 18),
legend.text =
element_text(size = 16),
strip.text =
element_text(size = 16),
axis.text =
element_text(size = 16),
axis.ticks.x.bottom =
element_blank(),
axis.title.x =
element_blank(),
plot.title =
element_text(size = 20,
hjust = 0.5)
)+
#add in labels to the plot
geom_text(check_overlap = T, #avoid overlapping the labels
size = 3,
show.legend = F, #remove the 'a' in the legend
# hjust = 0,
# nudge_x = -0.1,
#vjust = 0,
#nudge_y = -0.01,
aes(colour = .data[[grouper]]) #changes the colour to match the Operator colour
)
}
}
library(FSA)
Summarize(ROX~Operator + Sample,
data=a,
digits = 3)
newfunction("Operator","ROX","Day") #arguments are as follows (xval, channel, grouper)
newfunction("Day","ROX","Operator") #arguments are as follows (xval, channel, grouper)
newfunction("operator","ROX","Day") #arguments are as follows (xval, channel, grouper)
newfunction("Operator","ROX","Day") #arguments are as follows (xval, channel, grouper)
newfunction("Operator","FAM","Day") #arguments are as follows (xval, channel, grouper)
newfunction("Day","FAM","Operator") #arguments are as follows (xval, channel, grouper)
library(ggplot2)
getwd()
# setwd("..\\Users\\Lion\\Documents\\Lion Local\\RST and RMT qualification\\rst")
a<-read.csv("2021-06-24_140353 RMT operator to operator var day1and2.csv")
a
str(a)
#a$Operator == 'O1'
# a[a$Operator == 'O1',2] <- "Operator 1"
# a[a$Operator == 'O2',2] <- "Operator 2"
#
# summary(a[a$Operator == "Operator 1",][a$Sample == "PC",])
# OperatorPC <- a[a$Operator == "Operator 1",][a$Sample == "PC",]
# mean(OperatorPC)
# OperatorPC[,4]
# apply(OperatorPC,2,mean)
#Box Plot of Intermediate Precision (Operator to Operator) in the ROX channel
summary(a)
z<-ggplot(data=a, aes(x=Day, y=ROX, label = ROX))
z+
facet_wrap(.~Sample,nrow = 1, scales = "free_y", labeller = label_both)+
scale_y_continuous(n.breaks = 10)+
geom_boxplot(outlier.alpha = 0,
alpha = 0.5)+
geom_jitter(size = 5,
aes(colour = Operator),
alpha = 0.3
)+
ggtitle("Box Plot of Intermediate Precision (Operator to Operator) in the ROX channel")+
ylab("Ct value in the ROX channel")+
theme(axis.title =
element_text(size = 18),
legend.title =
element_text(size = 18),
legend.text =
element_text(size = 16),
strip.text =
element_text(size = 16),
axis.text =
element_text(size = 16),
axis.ticks.x.bottom =
element_blank(),
axis.title.x =
element_blank(),
plot.title =
element_text(size = 20,
hjust = 0.5)
)+
#add in labels to the plot
geom_text(check_overlap = T, #avoid overlapping the labels
size = 3,
show.legend = F, #remove the 'a' in the legend
#hjust = 0,
#nudge_x = -0.6,
#vjust = 0,
#nudge_y = -0.01,
aes(colour = Operator) #changes the colour to match the Operator colour
)
z+
facet_wrap(.~Sample,nrow = 1, scales = "free_y", labeller = label_both)+
scale_y_continuous(n.breaks = 10)+
geom_boxplot(outlier.alpha = 0,
alpha = 0.5)+
geom_jitter(size = 5,
aes(colour = Operator),
alpha = 0.3
)+
ggtitle("Box Plot of Intermediate Precision (Operator to Operator) in the ROX channel")+
ylab("Ct value in the ROX channel")+
theme(axis.title =
element_text(size = 18),
legend.title =
element_text(size = 18),
legend.text =
element_text(size = 16),
strip.text =
element_text(size = 16),
axis.text =
element_text(size = 16),
axis.ticks.x.bottom =
element_blank(),
axis.title.x =
element_blank(),
plot.title =
element_text(size = 20,
hjust = 0.5)
)+
#add in labels to the plot
geom_text(check_overlap = T, #avoid overlapping the labels
size = 3,
show.legend = F, #remove the 'a' in the legend
#hjust = 0,
#nudge_x = -0.6,
#vjust = 0,
#nudge_y = -0.01,
aes(colour = Operator) #changes the colour to match the Operator colour
)+
stat_summary(fun = mean, geom = 'errorbar', aes(ymax = ..y..,ymin=..y..),
width = 0.75, linetype = 'dashed')
newfunction <- function(xval,channel,grouper){
v1<-ggplot(data=a, aes(x=.data[[xval]], y=.data[[channel]], label = .data[[channel]])) #here you can see how the aes() arguments refer to the arguments in the function
#when the channel is ROX, we need to show all three samples, so you need the facet_wrap because there are 3 samples: PC, NTC and Sample
if (channel == "ROX") {
v1+
facet_wrap(.~Sample,nrow = 1, scales = "free_y", labeller = label_both)+
scale_y_continuous(n.breaks = 10)+
geom_boxplot(outlier.alpha = 0)+
geom_jitter(size = 5,
aes(colour = .data[[grouper]]),
alpha = 0.5
)+
ggtitle(paste("Box Plot of Intermediate Precision (", grouper, " to ", grouper, ") in the ", channel, " channel", sep =""))+
ylab(paste("Ct value in the", channel, "channel"))+
theme(axis.title =
element_text(size = 18),
legend.title =
element_text(size = 18),
legend.text =
element_text(size = 16),
strip.text =
element_text(size = 16),
axis.text =
element_text(size = 16),
axis.ticks.x.bottom =
element_blank(),
axis.title.x =
element_blank(),
plot.title =
element_text(size = 20,
hjust = 0.5)
)+
#add in labels to the plot
geom_text(check_overlap = T, #avoid overlapping the labels
size = 3,
show.legend = F, #remove the 'a' in the legend
# hjust = 0,
# nudge_x = -0.1,
#vjust = 0,
#nudge_y = -0.01,
aes(colour = .data[[grouper]]) #changes the colour to match the Operator colour
)+
stat_summary(fun = mean, geom = 'errorbar', aes(ymax = ..y..,ymin=..y..),
width = 0.75, linetype = 'dashed')
}
#if channel is not ROX (i.e. ROX), then you don't need the face_wrap because there is only 1 sample
else{
v1+
#facet_wrap(.~Sample,nrow = 1, scales = "free_y", labeller = label_both)+
scale_y_continuous(n.breaks = 10)+
geom_boxplot(outlier.alpha = 0)+
geom_jitter(size = 5,
aes(colour = .data[[grouper]]),
alpha = 0.5
)+
ggtitle(paste("Box Plot of Intermediate Precision (", grouper, " to ", grouper, ") in the ", channel, " channel", sep =""))+
ylab(paste("Ct value in the", channel, "channel"))+
theme(axis.title =
element_text(size = 18),
legend.title =
element_text(size = 18),
legend.text =
element_text(size = 16),
strip.text =
element_text(size = 16),
axis.text =
element_text(size = 16),
axis.ticks.x.bottom =
element_blank(),
axis.title.x =
element_blank(),
plot.title =
element_text(size = 20,
hjust = 0.5)
)+
#add in labels to the plot
geom_text(check_overlap = T, #avoid overlapping the labels
size = 3,
show.legend = F, #remove the 'a' in the legend
# hjust = 0,
# nudge_x = -0.1,
#vjust = 0,
#nudge_y = -0.01,
aes(colour = .data[[grouper]]) #changes the colour to match the Operator colour
)+
stat_summary(fun = mean, geom = 'errorbar', aes(ymax = ..y..,ymin=..y..),
width = 0.75, linetype = 'dashed')
}
}
library(FSA)
Summarize(ROX~Operator + Sample,
data=a,
digits = 3)
newfunction("Day","FAM","Operator") #arguments are as follows (xval, channel, grouper)
newfunction("Day","ROX","Operator") #arguments are as follows (xval, channel, grouper)
newfunction("Operator","FAM","Day") #arguments are as follows (xval, channel, grouper)
newfunction("Operator","ROX","Day") #arguments are as follows (xval, channel, grouper)
newfunction("Day","ROX","Operator") #arguments are as follows (xval, channel, grouper)
